{% extends 'base.html' %}

{% load django_bootstrap5 %}

{% block navbar_link %}
<a class="navbar-brand" href="{% url 'cards' %}">–ö–∞—Ä—Ç—ã</a>
{% endblock %}

{% block navbar_secondary %}
<a class="nav-link" href="{% url 'payments-and-transfers' %}">–ü–ª–∞—Ç–µ–∂–∏ –∏ –ø–µ—Ä–µ–≤–æ–¥—ã</a>
{% endblock %}

{% block content %}
  <!-- –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É" -->
  <div class="col-md-8 mx-auto">
      <div class="row" style="display: flex; justify-content: center;">
          <div class="col-md-4 mb-4">
              <a href="{% url 'add-card' %}" class="card text-center" style="border-radius: 10px; padding: 20px; margin: 10px; text-decoration: none; color: inherit;">
                <span style="font-size: 2rem;">üí≥</span>
                <h5 class="card-title mt-2">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É</h5>
              </a>
          </div>
      </div>
  </div>




  <div class="container mt-5">
    <div class="row justify-content-center">
  <!-- –ë–ª–æ–∫ —Å –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏ -->
  {% if cards %}
    <div class="col-md-8 mx-auto">
      <div class="row" style="display: flex; justify-content: center;">
        {% for card in cards %}
          <div class="col-md-4 mb-4">
            <div class="card position-relative">
              <div class="card-body">
                <h5 class="card-title">–ö–∞—Ä—Ç–∞:</h5>
                <h5 class="card-title">**** **** **** {{ card.card_number_last4 }}</h5>
                <p class="card-text">–î–æ: {{ card.expiration_date|date:"m/Y" }}</p>
              </div>

              <!-- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É -->
              <a href="{% url 'delete-card' card.id %}" class="btn btn-danger btn-sm position-absolute top-0 end-0 m-2" title="–£–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç—É">
                <i class="fas fa-trash"></i> <!-- Font Awesome trash icon -->
              </a>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  {% else %}
    <div class="col-md-8 mx-auto">
      <p class="text-center">–£ –≤–∞—Å –µ—â–µ –Ω–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç.</p>
    </div>
  {% endif %}


    </div>
  </div>
{% endblock %}
